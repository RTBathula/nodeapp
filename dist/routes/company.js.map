{"version":3,"sources":["../../app/routes/company.js"],"names":["validate","app","companyRoute","post","createNew","req","res","next","newCompanyObj","body","then","result","status","json","error","get","getDetails","companyId","params","id","skip","limit","query","parseInt","getList","put","updateCompany","updateCompanyObj","addBeneficial","addBeneficialObj"],"mappings":"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","file":"company.js","sourcesContent":["import express  from 'express'\r\nimport * as validate  from '../validations/company'\r\n//Services\r\nimport companyService from '../services/company'\r\n\r\nlet app = express()\r\n\r\nconst companyRoute = function() {\r\n   \r\n    app.post('/company', validate.createNew, function(req,res,next) {\t\r\n\r\n    \tlet newCompanyObj = req.body \r\n\r\n        companyService.createNew(newCompanyObj).then(function(result){\r\n        \treturn res.status(200).json(result)\r\n        },function(error){\r\n        \treturn res.status(400).json(error)\r\n        })        \r\n    }) \r\n\r\n    app.get('/company/:id', validate.getDetails, function(req,res,next) {   \r\n\r\n        let companyId = req.params.id\r\n\r\n        companyService.getDetails(companyId).then(function(result){\r\n            return res.status(200).json(result)\r\n        },function(error){\r\n            return res.status(400).json(error)\r\n        })        \r\n    }) \r\n\r\n    app.get('/company', function(req,res,next) {   \r\n\r\n        var skip  = 0 // default\r\n        var limit = 999 // default\r\n\r\n        if(req.query.skip && req.query.skip!=\"\"){\r\n            skip = parseInt(req.query.skip)\r\n        }\r\n        if(req.query.limit && req.query.limit!=\"\"){\r\n            limit = parseInt(req.query.limit)\r\n        }\r\n\r\n        companyService.getList(skip,limit).then(function(result){\r\n            return res.status(200).json(result)\r\n        },function(error){\r\n            return res.status(400).json(error)\r\n        })        \r\n    })\r\n\r\n    app.put('/company/:id/update-company', validate.updateCompany, function(req,res,next) {   \r\n\r\n        let companyId        = req.params.id\r\n        let updateCompanyObj = req.body\r\n\r\n        companyService.updateCompany(companyId,updateCompanyObj).then(function(result){\r\n            return res.status(200).json(result)\r\n        },function(error){\r\n            return res.status(400).json(error)\r\n        })        \r\n    })\r\n\r\n    app.put('/company/:id/add-beneficial', validate.addBeneficial, function(req,res,next) {   \r\n\r\n        let companyId        = req.params.id\r\n        let addBeneficialObj = req.body\r\n\r\n        companyService.addBeneficial(companyId,addBeneficialObj).then(function(result){\r\n            return res.status(200).json(result)\r\n        },function(error){\r\n            return res.status(400).json(error)\r\n        })        \r\n    })       \r\n    \r\n    return app\r\n}\r\n\r\nexport default companyRoute\r\n"]}